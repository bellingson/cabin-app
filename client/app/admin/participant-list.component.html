<h1>Participants</h1>


<div class="clearfix">
  <div class="float-right">
    <app-admin-links></app-admin-links>
  </div>
</div>

<table *ngIf="participants" class="table table-striped table-hover">
  <thead>
  <tr>
    <th>Participant #</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Days Left</th>
    <th>Week</th>
    <th>Sessions this week</th>
    <th>Sessions today</th>
    <th>Sessions to do week</th>
    <th>Total Session Count</th>
    <th>Missing</th>
    <th>Last Session</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let p of participants">
    <td>{{p.participantId}}</td>
    <td>{{p.startTime | date: 'M/d/yyyy'}}</td>
    <td>{{p.endTime | date: 'M/d/yyyy'}}</td>
    <td>{{p.daysLeft}}</td>
    <td>{{p?.currentLevel?.level}}</td>
    <td>{{p?.currentLevel?.sessionCount}}</td>
    <td>{{p.sessionsToday}}</td>
    <td>{{p?.currentLevel?.sessionsToDo}}</td>
    <td>{{p.sessionCount}}</td>
    <td>{{p.sessionsMissing}}</td>
    <td>{{p.lastSessionTime | date: 'M/d/yyyy' }}</td>
    <td>
      <a [routerLink]="['../','participant', p._id ]" class="btn btn-default">View</a>

      <!--<button class="btn btn-default" type="button" (click)="updateStats(p)">Update</button>-->
    </td>
  </tr>
  <tr *ngIf="participants.length == 0">
       <td colspan="12">
          <em>No records found</em>
       </td>
  </tr>

  </tbody>
</table>


<!--
<button type="button" (click)="updateAllParticipants()" class="btn btn-default">Update All</button>
-->


